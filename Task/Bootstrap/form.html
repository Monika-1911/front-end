<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Interval Calculator</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <style>
        body {
            margin: 30px;
            background: #f9f9f9;
        }
        .result-box {
            margin-top: 20px;
            padding: 15px;
            background: #3498db;
            color: white;
            border-radius: 8px;
        }
    </style>
</head>
<body>

<div class="container">
    <h2 class="text-center">Date Interval Calculator</h2>
    <div class="row">
        <div class="col-md-4">
            <!-- From Date -->
            <label>From:</label>
            <div class="input-group date" id="fromDate">
                <input type="text" class="form-control"/>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
        </div>

        <div class="col-md-4">
            <!-- To Date -->
            <label>To:</label>
            <div class="input-group date" id="toDate">
                <input type="text" class="form-control"/>
                <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                </span>
            </div>
        </div>

        <div class="col-md-4">
            <br>
            <!-- Calculate Button -->
            <button class="btn btn-primary" id="calculateBtn">Calculate</button>
        </div>
    </div>

    <!-- Result Display -->
    <div id="result" class="result-box" style="display:none;">
        <p id="intervalText"></p>
        <p id="years"></p>
        <p id="months"></p>
        <p id="weeks"></p>
        <p id="days"></p>
    </div>
</div>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Moment.js (Required for datetimepicker) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- Bootstrap DateTimePicker JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

<script>
$(document).ready(function () {

    // Initialize DateTimePickers
    $('#fromDate').datetimepicker({
        format: 'MM/DD/YYYY'
    });
    $('#toDate').datetimepicker({
        format: 'MM/DD/YYYY',
        useCurrent: false // Prevent auto-fill with current date
    });

    // Business Logic: On Calculate button click
    $("#calculateBtn").click(function () {
        var from = $('#fromDate input').val();
        var to = $('#toDate input').val();

        if (from === "" || to === "") {
            alert("Please select both dates!");
            return;
        }

        // Parse dates using Moment.js
        var start = moment(from, "MM/DD/YYYY");
        var end = moment(to, "MM/DD/YYYY");

        // Calculate difference
        var years = end.diff(start, 'years');
        var months = end.diff(start, 'months');
        var weeks = end.diff(start, 'weeks');
        var days = end.diff(start, 'days');

        // Display result in box
        $("#intervalText").text("Date interval between " + from + " and " + to);
        $("#years").text("In years : " + years);
        $("#months").text("In months : " + months);
        $("#weeks").text("In weeks : " + weeks);
        $("#days").text("In days : " + days);

        $("#result").show();

        // Console output (clean for debugging)
        console.clear();
        console.log("From:", from, " To:", to);
        console.log("Years:", years);
        console.log("Months:", months);
        console.log("Weeks:", weeks);
        console.log("Days:", days);
    });
});
</script>

</body>
</html>
